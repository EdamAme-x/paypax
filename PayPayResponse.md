# PayPayレスポンス集
`result.raw` から取得可能です。

## S0000
```
{'header': {'resultCode': 'S0000', 'resultMessage': ''}
```
このリザルトコードが添付されているレスポンスはすべて成功です  
成功すると必ずS0000が返ってきます
## ログイン
#### 電話番号 / パスワードが間違ってる
```
{'response_type': 'ErrorResponse', 'result_info': 
{'result_status': 'F', 'result_code_id': '01102004', 'result_code': 'INTERNAL_AUTH_INVALID_GRANT_ERROR', 'result_msg': 'Bad credentials'}}
```
#### 入力したワンタイムパスワードが間違ってる
```
{'response_type': 'ErrorResponse', 'result_info':
{'result_status': 'F', 'result_code_id': '01102004', 'result_code': 'INTERNAL_AUTH_INVALID_GRANT_ERROR',
'result_msg': 'Validate OTP call to notification service getting state code: 400'}}
```
#### アクセストークンの有効期限が切れてる 1
```
{'header':
{'resultCode': 'S0001', 'resultMessage': 'Session refresh request because of AccessToken is revoked'},
'error': {'oauth2V2TokenRolledbackTimestamp': None}}
```
#### アクセストークンの有効期限が切れてる 2
- user_infoを使った時はなぜかS0001ではなくS9999が返される
```
{'header':
{'resultCode': 'S9999', 'resultMessage': 'Cannot fetch data from UM'}}
```
#### アカウントが一時ロックされている
- 一時ロック以外もなぜかこれが返される (資金洗浄による凍結など)
```
{'response_type': 'ErrorResponse', 'result_info':
{'result_status': 'F', 'result_code_id': '01102005', 'result_code':
'INTERNAL_AUTH_ACCOUNT_LOCKED_ERROR', 'result_msg': 'User account is locked'}}
```
#### SMSに認証番号を送りすぎてレート制限を受けてる
```
{'response_type': 'ErrorResponse', 'result_info': 
{'result_status': 'F', 'result_code_id': '01102015', 'result_code': 'INVALID_AUTH_SEND_OTP_OVER_LIMIT_COUNT_BAD_REQUEST', 
'result_msg': '[400] during [POST] to [http://notification-sender-service/v1/sms/send/otp] [OtpSenderClient#sendOtpBySms(SendOtpBySmsRequest)]:
 [{"result_info":{"result_status":"F","result_code_id":"01810001","result_code":"BAD_REQUEST","result_msg":"over limit of send count."}}]'}}
```
#### IPアドレスがブラックリスト入りしている
```
{'response_type': 'ErrorResponse','result_info': 
{'result_status': 'F', 'result_code_id': '01101007', 'result_code': 'INTERNAL_COMMON_SIGN_IN_FRAU D_CHECK_ERROR', 'result_msg': 'IP_BLACKLIST'}}
```
#### 日本以外からアクセスした
```html
<HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<TITLE>ERROR: The request could not be satisfied</TITLE>
</HEAD><BODY>
<H1>403 ERROR</H1>
<H2>The request could not be satisfied.</H2>
<HR noshade size="1px">
Request blocked.
We can't connect to the server for this app or website at this time. There might be too much traffic or a configuration error. Try again later, or contact the app or website owner.      
<BR clear="all">
If you provide content to customers through CloudFront, you can find steps to troubleshoot and help prevent this error by reviewing the CloudFront documentation.
<BR clear="all">
<HR noshade size="1px">
<PRE>
Generated by cloudfront (CloudFront)
Request ID: 0efMHen3RTNpO71PZ8KvpE2_YPOa7KGkDMcfTei1AwU50ujKHJhn_A==
</PRE>
<ADDRESS>
</ADDRESS>
</BODY></HTML>: 0
```
## 残高のやりとり
#### 残高不足 1
```
{'header':
{'resultCode': 'S2205', 'resultMessage': 'Failed to P2P: No payment methods.'}, 'error': {}}
```
#### 残高不足 2
```
{'header':
{'resultCode': 'S1005', 'resultMessage': 'balance is insufficient'},'error':
{'backendResultCode': '00400043', 'paymentMethodWithTopupAmountList':
[{'paymentMethodId': 85085976, 'paymentMethodIdString': '85085976', 'paymentMethodType': 'SBID_CARRIER_BILLING', 'paymentMethodDescriptionInfo':
{'mainDescription':
{'text': '利用上限金額を確認する', 'linkUrl': 'https://card.my.softbank.jp/ppdirect?id1=availableamountsbm&adid=o_ap_s_201001_1168', 'headerIcon': None, 'isBold': True, 'color': '#3895FF', 'backgroundColor': None},
'subDescription': None, 'statusDescription': None, 'additionalDescription': None, 'detailDescription': None, 'promotionDescription': None, 'amountInfo': None,
'label':{'text': '初回無料 2回目以降手数料2.5%', 'linkUrl': None, 'headerIcon': None, 'isBold': True, 'color': '#3895FF', 'backgroundColor': '#E5F1FF'}},
'sbidCarrierBillingInfo':
{'paymentMethodStatus': 'ACTIVATED', 'preTransactionAutoChargeSupported': None, 'prioritizedPaymentSupported': None}, 'feeInfo':
{'feePercentage': 0, 'label': '手数料（2.5%）', 'zeroFeeText': '初回無料'}, 'necessaryChargeAmount': 189036, 'minimumChargeAmount': False}], 'appealDescription':
{'text': '請 求書払いでの納税はチャージせずにクレジット（旧あと払い）で', 'linkUrl': 'paypay://internalembed?url=https%3A%2F%2Fwww.paypay.ne.jp%2Fportal%2Fbill-payment%2Ftax-bills', 'headerIcon': None, 'isBold': True, 'color': '#3895FF', 'backgroundColor': '#E5F8FF'}}}
```
#### 受け取りパスワードが間違ってる
```
{'header':
{'resultCode': 'S9999', 'resultMessage': 'Specific Error with half sheet'}, 'error':
{'backendResultCode': '42007007', 'displayErrorResponse':
 {'backendResultCode': '42007007', 'iconUrl': 'https://image.paypay.ne.jp/error/app/caution.png', 'title': 'パスコードが違います', 'description': '3回間違えると受け取り辞退となります\n送り元にパスコードを確認してください',
'canCloseByOutsideTap': True, 'buttonList':
[{'title': '閉じる', 'actionType': 'CLOSE', 'deeplink': None, 'nativeAction': None, 'buttonType': 'BLUE', 'googleAnalyticsInfo': None}]}}}
```
#### 基本的な送金エラー
- 送金リンクを2つの端末で同時に受け取るみたいなズルしようとしてもでる
```
{'header':
{'resultCode': 'S9999', 'resultMessage': 'Specific Error with half sheet'},
'error': {'backendResultCode': '42007011', 'displayErrorResponse':
{'backendResultCode': '42007011', 'iconUrl': 'https://image.paypay.ne.jp/error/app/caution.png', 'title': '処理に失敗しました', 'description': 'お手数ですが、再度お試しください',
'canCloseByOutsideTap': False, 'buttonList':
[{'title': '閉じる', 'actionType': 'NATIVE', 'deeplink': None, 'nativeAction': 'RELOAD', 'buttonType': 'BLUE', 'googleAnalyticsInfo': None}]}}}
```
#### 送金する値がおかしい
- -1円など
```
{'header':
{'resultCode': 'S5000', 'resultMessage':
'It was received unexpected error from the remote server. [failed to get wallet consult info from wallet service]'},
'error': {'backendResultCode': '00400044'}}
```
#### 自分から自分に送金した
- 不明なエラーでもこれが出るかも
```
{'header': {'resultCode': 'S5000', 'resultMessage':
'It was received unexpected error from the remote server. [Error while accepting the p2p order]'},
'error': {'backendResultCode': '42007001'}}
```
#### あいて側に残高の受け取り制限がかかっている
```
{'header': 
{'resultCode': 'S9999', 'resultMessage': 'Specific Error with half sheet'}, 
'error': 
{'backendResultCode': '', 'displayErrorResponse': 
{'backendResultCode': '', 'iconUrl': 'https://image.paypay.ne.jp/error/app/caution.png', 'title': '現在ご利用を制限しています', 'description': '安心安全な決済サービスを維持するため\nご利用を制限させていただく場合があります\n詳細はヘルプページをご確認ください',
 'canCloseByOutsideTap': True, 'buttonList': 
 [{'title': 'ヘルプページを確認する', 'actionType': 'DEEPLINK', 'deeplink': 'paypay://embed?url=https://paypay.ne.jp/rd/support/help/c0088/', 
 'nativeAction': None, 'buttonType': 'BLUE', 'googleAnalyticsInfo': None}, 
 {'title': '閉じる', 'actionType': 'CLOSE', 'deeplink': None, 'nativeAction': None, 'buttonType': 'WHITE', 'googleAnalyticsInfo': None}]}}}
```
#### じぶん側に送金制限がかかっている  
- 本人確認をすることで解除される  
```
{'header':
{'resultCode': 'S9999', 'resultMessage': 'Specific Error with half sheet'}, 'error':
{'backendResultCode': 'KYC_INFO_REQUIRED_FOR_PREPAID', 'displayErrorResponse':
{'backendResultCode': "iconUrl': 'KYC_INFO_REQUIRED_FOR_PREPAID', 'https://image.paypay.ne.jp/error/app/caution.png', 'title': 現在ご利用を制限しています',
'description': '安心安全な決済サービスを維持するため\nご利用を制限させていただく場合があります\n詳細はヘルプページをご確認ください。 'canCloseByOutsideTap': True, 'buttonList':
[{'title': 'ヘルプページを確認する', 'action Type': 'DEEPLINK', 'deeplink': 'paypay://embed? url=https://paypay.ne.jp/rd/support/help/c0088/',
'nativeAction': None, 'buttonType': 'BLUE', 'googleAnalyticsInfo': None}, 
{'title': '閉じる', 'action Type': 'CLOSE', 'deeplink': None, 'nativeAction': None, 'buttonType': 'WHITE', 'googleAnalyticsInfo': None}]}}}
```
#### じぶん側に送金制限がかかっている 2
```
{'header':
{'resultCode': 'S9999', 'resultMessage': 'Specific Error with half sheet'}, 'error':
{'backendResultCode': 'PAYER_BLACKLIST', 'displayErrorResponse':
{'backendResultCode': 'PAYER_BLACKLIST', 'iconUrl': 'https://image.paypay.ne.jp/error/app/caution.png', 'title': '現在ご利用を制限しています',
'description': '安心安全な決済サービスを維持するため\nご利用を制限させていただく場合があります\n詳細はヘルプページをご確認ください', 'canCloseByOutsideTap': True, 'buttonList':
[{'title': 'ヘルプページを確認する', 'actionType': 'DEEPLINK', 'deeplink': 'paypay://embed?url=https://paypay.ne.jp/rd/support/help/c0088/', 'nativeAction': None, 'buttonType': 'BLUE', 'googleAnalyticsInfo': None},
{'title': '閉じる', 'actionType': 'CLOSE', 'deeplink': None, 'nativeAction': None, 'buttonType': 'WHITE', 'googleAnalyticsInfo': None}]}}}
```
#### 指定したexternal_idのユーザーが見つからない
```
{'header':
{'resultCode': 'S5000', 'resultMessage': 'It was received unexpected error from the remote server. [failed to get user info from user module service]'},
'error': {'backendResultCode': '00400045'}}
```
### 余談
アカウントロック、IPアドレスのブラックリストは運営に連絡すると解除してもらえます (悪質と判断されたらさすがにダメ)  
希望薄でもいちおう運営に連絡してください、じぶんの利用規約違反でも解除してくれることがあります (確認済み)  

#### 書いた人
GitHub：[taka-4602](https://github.com/taka-4602)  
Discord：[.taka.](https://discord.gg/aSyaAK7Ktm)
